\doxysection{util Namespace Reference}
\hypertarget{namespaceutil}{}\label{namespaceutil}\index{util@{util}}


The utility namespace.  


\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespaceutil_afe195e2af873c1660fcf6e15c343675e}{clear}} ()
\begin{DoxyCompactList}\small\item\em Clear the screen. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T  = bool$>$ }\\T \mbox{\hyperlink{namespaceutil_a9d6c0fde8a55acf8e899b29ad5635627}{input}} (const std\+::string \&title, const T \&error\+\_\+ret=T())
\begin{DoxyCompactList}\small\item\em std\+::cin can be a little difficult to use, particularly handling bad input. This sanitized it. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceutil_a40fb2baa02be896bc3bb581a6d80e718}{prompt}} (const std\+::string \&message)
\begin{DoxyCompactList}\small\item\em Prompt the user and wait until they have confirmed it. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceutil_a0b2991073e807f963358270921c4e6f0}{construct\+\_\+shared\+\_\+key}} (std\+::array$<$ uint64\+\_\+t, 4 $>$ \&sk, const bool \&server)
\begin{DoxyCompactList}\small\item\em Genreate a shared key over a connection. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceutil_a188170d9ebcd68f74dfe4f44d1fdbd51}{receive\+\_\+message}} (const std\+::array$<$ uint64\+\_\+t, 4 $>$ \&sk)
\begin{DoxyCompactList}\small\item\em Receive an encrypted message from the peer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceutil_a61dbcb94ddfaf9621d03326930f918f0}{send\+\_\+message}} (const std\+::array$<$ uint64\+\_\+t, 4 $>$ \&sk)
\begin{DoxyCompactList}\small\item\em Send an encrypted message to a peer. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceutil_a5c845d244182d6df572c884e56fd7701}{acknowledge}} (const std\+::string \&what)
\begin{DoxyCompactList}\small\item\em Acknowledge a request from a peer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The utility namespace. 

\begin{DoxyRemark}{Remarks}
A namespace isn\textquotesingle{}t really necessary, since this is only used by main, but it allows Doxygen to document these functions on the HTML. 
\end{DoxyRemark}


\doxysubsection{Function Documentation}
\Hypertarget{namespaceutil_a5c845d244182d6df572c884e56fd7701}\index{util@{util}!acknowledge@{acknowledge}}
\index{acknowledge@{acknowledge}!util@{util}}
\doxysubsubsection{\texorpdfstring{acknowledge()}{acknowledge()}}
{\footnotesize\ttfamily \label{namespaceutil_a5c845d244182d6df572c884e56fd7701} 
bool util\+::acknowledge (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{what}{}\end{DoxyParamCaption})}



Acknowledge a request from a peer. 


\begin{DoxyParams}{Parameters}
{\em what} & What is the acknowledgement for? \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The return code of the send\+\_\+packet. 
\end{DoxyReturn}
\Hypertarget{namespaceutil_afe195e2af873c1660fcf6e15c343675e}\index{util@{util}!clear@{clear}}
\index{clear@{clear}!util@{util}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily \label{namespaceutil_afe195e2af873c1660fcf6e15c343675e} 
void util\+::clear (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Clear the screen. 

\begin{DoxyRemark}{Remarks}
This works on UNIX/\+Windows. It\textquotesingle{}s a shell escape sequence. 
\end{DoxyRemark}
\Hypertarget{namespaceutil_a0b2991073e807f963358270921c4e6f0}\index{util@{util}!construct\_shared\_key@{construct\_shared\_key}}
\index{construct\_shared\_key@{construct\_shared\_key}!util@{util}}
\doxysubsubsection{\texorpdfstring{construct\_shared\_key()}{construct\_shared\_key()}}
{\footnotesize\ttfamily \label{namespaceutil_a0b2991073e807f963358270921c4e6f0} 
void util\+::construct\+\_\+shared\+\_\+key (\begin{DoxyParamCaption}\item[{std\+::array$<$ uint64\+\_\+t, 4 $>$ \&}]{sk}{, }\item[{const bool \&}]{server}{}\end{DoxyParamCaption})}



Genreate a shared key over a connection. 


\begin{DoxyParams}{Parameters}
{\em sk} & The shared key array to populate. \\
\hline
{\em server} & Whether we are the server or not. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
AES requires key sizes of 128, 192, or 256 bits, but our uint64\+\_\+t is just 64. So, we just perform 4 key exchanges to get 256 bits. 
\end{DoxyRemark}
\begin{DoxyWarning}{Warning}
Selecting different modes of AES merely truncates this key (IE AES-\/128 uses sk\mbox{[}0,1\mbox{]}, AES-\/192 uses sk\mbox{[}0,1,2\mbox{]}, AES-\/256 uses all of them). 

This is not the cryptographically secure way of doing things. We should almost certainly Exchange a single, massive 256 bit prime instead of four 64 bit ones, but for the sake of not needing to create our own 256 bit number classes, we just key exchange quadrice. 
\end{DoxyWarning}
\Hypertarget{namespaceutil_a9d6c0fde8a55acf8e899b29ad5635627}\index{util@{util}!input@{input}}
\index{input@{input}!util@{util}}
\doxysubsubsection{\texorpdfstring{input()}{input()}}
{\footnotesize\ttfamily \label{namespaceutil_a9d6c0fde8a55acf8e899b29ad5635627} 
template$<$typename T  = bool$>$ \\
T util\+::input (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{title}{, }\item[{const T \&}]{error\+\_\+ret}{ = {\ttfamily T()}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



std\+::cin can be a little difficult to use, particularly handling bad input. This sanitized it. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The type of input to be returned. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em title} & A title to be drawn for the input \\
\hline
{\em error\+\_\+ret} & If something causes an error, what we should return to let the caller know. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The user input, or the error return. 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
This function does not re-\/prompt upon errors; it is the responsibility of the caller to check for the error return and act accordingly. 
\end{DoxyRemark}
\begin{DoxyWarning}{Warning}
This function is blocking. 
\end{DoxyWarning}
\Hypertarget{namespaceutil_a40fb2baa02be896bc3bb581a6d80e718}\index{util@{util}!prompt@{prompt}}
\index{prompt@{prompt}!util@{util}}
\doxysubsubsection{\texorpdfstring{prompt()}{prompt()}}
{\footnotesize\ttfamily \label{namespaceutil_a40fb2baa02be896bc3bb581a6d80e718} 
void util\+::prompt (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{message}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Prompt the user and wait until they have confirmed it. 


\begin{DoxyParams}{Parameters}
{\em message} & The message to display. \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
This function is blocking. 
\end{DoxyWarning}
\Hypertarget{namespaceutil_a188170d9ebcd68f74dfe4f44d1fdbd51}\index{util@{util}!receive\_message@{receive\_message}}
\index{receive\_message@{receive\_message}!util@{util}}
\doxysubsubsection{\texorpdfstring{receive\_message()}{receive\_message()}}
{\footnotesize\ttfamily \label{namespaceutil_a188170d9ebcd68f74dfe4f44d1fdbd51} 
void util\+::receive\+\_\+message (\begin{DoxyParamCaption}\item[{const std\+::array$<$ uint64\+\_\+t, 4 $>$ \&}]{sk}{}\end{DoxyParamCaption})}



Receive an encrypted message from the peer. 


\begin{DoxyParams}{Parameters}
{\em sk} & The shared key \\
\hline
\end{DoxyParams}
\Hypertarget{namespaceutil_a61dbcb94ddfaf9621d03326930f918f0}\index{util@{util}!send\_message@{send\_message}}
\index{send\_message@{send\_message}!util@{util}}
\doxysubsubsection{\texorpdfstring{send\_message()}{send\_message()}}
{\footnotesize\ttfamily \label{namespaceutil_a61dbcb94ddfaf9621d03326930f918f0} 
void util\+::send\+\_\+message (\begin{DoxyParamCaption}\item[{const std\+::array$<$ uint64\+\_\+t, 4 $>$ \&}]{sk}{}\end{DoxyParamCaption})}



Send an encrypted message to a peer. 


\begin{DoxyParams}{Parameters}
{\em sk} & The shared key. \\
\hline
\end{DoxyParams}
